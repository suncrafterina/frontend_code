<div class="adminContentMain profilePage">
    <div class="breadcrumbsListing">
        <ul>
            <li>{{'Common.profileSetting'| translate}}</li>
        </ul>
    </div>
    <div class="adminContentInner">
        <div class="adminContentHeader">
            <div class="adminContentTitle">
                <div class="acTitleIcon"><span class="material-icons">
                        settings
                    </span></div>
                <div class="acTitleText">{{'Common.profileSetting'| translate}}</div>
            </div>
        </div>
        <div class="adminContentMiddle">
            <!-- Admin Form Start -->
            <div class="adminContentFormMain formInOneThird">
                <form [formGroup]="profileForm"  (ngSubmit)="profile()" autocomplete="off">
                    <div class="hytx-row">
                        <div class="hytx-col-12">
                            <div class="UploadImageBoxCover">
                                <!-- <app-upload-avatar (click)="upload()">
                                  <app-image size="80"
                                    [placeholderName]="userData.userName"
                                    [imageUrl]="userData.userAvatar"></app-image>
                                </app-upload-avatar> -->
                                <i class="icon icon-account_circle" *ngIf="!imgPreview"></i>
                                <div class="avatar">
                                  <img [src]="imgPreview" alt="Profile Image" *ngIf="imgPreview">
                                </div>
                                <div class="browseBtnTxt"><span (click)="file.click()">{{'Common.changeImage'| translate}}</span></div>
                                 <input type="file" name="myfile" #file accept="image/*" (change)="fileChange($event)" (click)="file.value = null" class="display-none">                                 
                                 <div class="mat-error error-div" *ngIf="imageError">
                                    {{imageError}}
                                 </div>
                              </div>
                        </div>
                        <div class="hytx-col-12">
                            <mat-form-field class="full-width">
                                <input matInput placeholder="{{'Common.firstName'| translate}} *" [(ngModel)]="userData.first_name" formControlName="first_name"
                                    [errorStateMatcher]="matcher" autocomplete="off" />
                                <mat-error *ngIf="hasError('first_name')">{{ 'errorMessage.' + hasError('first_name')  | translate}}</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="hytx-col-12">
                            <mat-form-field class="full-width">
                                <input matInput placeholder="{{'Common.lastName'| translate}} *" [(ngModel)]="userData.last_name" formControlName="last_name"
                                    [errorStateMatcher]="matcher" autocomplete="off" />
                                <mat-error *ngIf="hasError('last_name')">{{ 'errorMessage.' + hasError('last_name')  | translate}}</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="hytx-col-12">
                            <mat-form-field class="full-width">
                                <input matInput readonly  placeholder="{{'Common.email'| translate}} *" [(ngModel)]="userData.email" formControlName="email"
                                    [errorStateMatcher]="matcher" autocomplete="off" />
                                <mat-error *ngIf="hasError('email')">{{ 'errorMessage.' + hasError('email')  | translate}}</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="hytx-col-12">
                            <div class="mat-form-field-appearance-legacy full-width">
                                <div class="mat-form-field-wrapper">
                                    <div class="mat-form-label">{{'Common.language'| translate}} </div>
                                    <mat-radio-group  color="primary"  [(ngModel)]="userData.language" formControlName="language" aria-label="Language" >
                                        <mat-radio-button *ngFor="let item of language; let i = index" value="{{item.value}}">{{'Common.'+item.label | translate}}</mat-radio-button>
                                    </mat-radio-group>
                                    <mat-error *ngIf="hasError('language')">{{hasError('language')}}</mat-error>
                                </div>
                            </div>
                        </div>
                        <div class="hytx-col-12">
                            <div class="full-width">
                                <mat-checkbox color="primary" formControlName="is_change_password" [value]="1" [(ngModel)]="is_change_password" (change)="managePasswordValidation()">{{'Common.changePassword'| translate}}</mat-checkbox>
                            </div>
                        </div>
                        <div class="hytx-col-12">
                            <mat-form-field class="full-width">
                                <input matInput type="password" placeholder="{{ 'Common.currentPassword'  | translate}} *" formControlName="current_password" autocomplete="current_password" (keyup)="validateMatchPass()" readonly="{{!is_change_password}}" [errorStateMatcher]="matcher"/>
                                <mat-error *ngIf="hasError('current_password')">{{ 'errorMessage.' + hasError('current_password')  | translate}}</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="hytx-col-12">
                            <mat-form-field class="full-width">
                                <input matInput type="password" placeholder=" {{ 'Common.newPassword'  | translate}} *" formControlName="password" autocomplete="password" (keyup)="validateMatchPass()" readonly="{{!is_change_password}}" [errorStateMatcher]="matcher"/>
                                <mat-error *ngIf="hasError('password')">{{ 'errorMessage.' + hasError('password')  | translate}}</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="hytx-col-12">
                            <mat-form-field class="full-width">
                                <input matInput type="password" placeholder="{{ 'Common.confirmPassword'  | translate}} *" formControlName="confirm_password" autocomplete="confirm_password" (keyup)="validateMatchPass()" readonly="{{!is_change_password}}" [errorStateMatcher]="matcher" />
                                <mat-error *ngIf="hasError('confirm_password')">{{ 'errorMessage.' + hasError('confirm_password')  | translate}}</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="hytx-row">
                        <div class="hytx-col-12 hytx-from-buttons">
                            <button class="hytx-btn hytx-btn-orange" type="submit" [disabled]="profileForm.invalid || imageError">
                                <span>{{'Common.save'| translate}}</span>
                            </button>
                            <button class="hytx-btn hytx-btn-black-outline"
                                routerLink="/admin/dashboard">{{'Common.cancel'| translate}}</button>
                        </div>
                    </div>
                </form>
            </div>
            <!-- Admin Form End -->
        </div>
    </div>
</div>